#! /usr/bin/make

include Makefile.common

CFLAGS += -I/opt/local/include -Oz
LIB += -L/opt/local/lib -lGLEW -framework Foundation -framework Carbon -framework AppKit -framework OpenGL

small: $(EXEC)
	strip $(EXEC)
	rm -f $(EXEC).lzma
	lzma --best --keep $(EXEC)
	cat lzunpack.header $(EXEC).lzma > $(EXEC)
	ls -l $(EXEC)

$(EXEC): opengl.o
	$(CC) $(CFLAGS) opengl.o -o $(EXEC) $(LDFLAGS) $(LIB)
